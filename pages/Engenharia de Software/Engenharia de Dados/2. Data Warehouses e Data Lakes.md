# Data Warehouses

## O que são Data Warehouses

São repositórios de dados que armazenam a história da empresa e disponibilizando esses dados para consultas e análises, e são importantes para tomadas de decisão.

Os dados fluem de bancos de dados e outras fontes para a *Data Warehouse*, normalmente de maneira regular. 

![[Data Wharehouses general architecture.png]]
[Fonte](https://blog.grancursosonline.com.br/data-warehouse-dw/)

>"Uma coleção de dados orientada a assunto, integrada, não volátil, variável no tempo para apoio às decisões da gerência"
>
>(W. H. Inmon)

## Caracteríscas de DW

### 1. Orientado por assunto

Assunto de interesse da organização
| Transacional          | Analítico |
|-----------------------|-----------|
| Produtos, estoque     | Vendas    |
| Pedidos, maquinário   | Produção  |
| Empregados, promoções | RH        |

### 2. Variação no tempo

Resutlados operacionais em determinado momento (dados históricos)

### 3. Não volátil

Dados não podem ser atualizados pelos usuários

### 4. Integração

Integração de várias fontes de dados preexistentes (ferramentas ETL) - Extract - Transform - Load.

## Dados Operacionais vs Dados Analíticos

**Operacional**
- Sistema de processamento de transação online (OLTP)
- Processamento de transações e consultas
- Usuário: pessoal operacional
- Contém dados atuais, detalhados demais para uso na tomada de decisão
- Projeto (modelagem) conceitual (ER)
- Foco nos dados atuais
- Projeto voltado para a aplicação
- Eliminação periódica de dados
- Dados normalizados (requer joins, respostas mais lentas)
- Privilegia o armazenamento

**Analítico**
- Técnicas de processamento analítico online (OLAP)
- Análise de tendências e comportamento
- Usuários: pessoal gerencial
- Dados sumarizados e históricos, disponíveis em diferentes níveis de granularidade
- Projeto (modelagem) multidimensional
- Foco em dados históricos
- Projeto voltado para temas/assuntos/dimensões
- Tendência a grande volume de dados
- Dados sumarizados, o que leva a redundância
- Privilegia o desempenho

## OLAP - Online Analytical Processing

Permite:
- Análise de dados
- Descoberta de nova informação
- Visualização dos dados sob diferentes perspectivas
- Capacidade de navegar no nível de detalhe dos dados armazenados

## Granularidade de dados

### Modelagem multidimensional

- **Granularidade é o "tamanho" do dado a ser armazenado**
- Tem influência direta no projeto do DW

>Maior granularidade = Menor detalhamento
   Menor granularidade = Maior detalhamento

- Como armazenar?
	- Vendas mensais ou diárias?
	- Número de alunos por campus ou por curso?
	- Doadores de sangue por estado ou cidade?

**Depende dos requisitos do usuário**

O nível mais baixo de detalhe de informações necessário é aquele que contém informações úteis relacionadas às análises

**Quanto menor a granularidade**
- Mais tipos de consultas podem ser feitas
- Mais detalhados são os dados
- Maior o tempo de resposta das consultas
- Maior o volume de dados armazenados

**Hierarquia dos atributos dos dados armazenados altera a granularidade**
- Exemplo: Vendas por mês, dia, ano
- Exemplo: Alunos por campus, curso, período